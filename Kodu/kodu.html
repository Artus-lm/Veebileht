<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title>Structura/Tartu vald</title>
<link rel="stylesheet" href="kodu.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>


<body>
    <header class="site-header">
        <div class="container">
            <div class="logo">LOGO</div>

            <nav class="main-nav">
                <ul>
                    <li><a href="kodu.html">Kodu</a></li>
                    <li><a href="../Tutvustused/tutvustused.html">Tutvustused</a></li>
                    <li><a href="../Test/test.html">Test</a></li>
                    <li><a href="../Regamine/Registreerimisvorm.html">LIITU MEIEGA</a></li>
                </ul>
            </nav>
        </div>    
    </header>

    <section class="hero">
        <div class="hero-text">
            <h1>PEALKIRI</h1>
        </div>
    </section>
    <section class="section-text">
            <h1>PEALKIRI</h1>
            <p>Mingi tutvustav jutt äkki</p>
    </section>

    <hr class="section-divider">

   <section id="games" class="section--tight games-section">
    <div class="games-inner">
        <h2 class="section-title">Mängud</h2>

            <div class="scoreboard-card" id="scoreboard"></div>
        </div>
    </section>


  <footer class="site-footer">
        <div class="footer-inner">
           <div>Tekst</div>
        </div>
    </footer>
    
 
</body>

<script>
function text_to(element, field) {
    const text = document.createTextNode(field)
    element.appendChild(text)
}

async function createTable() {
    let response = await fetch("./autoupdate/mangud.json");
    let data = await response.json();
    for (let i = 0; i < data.length; i++) {

        const row = document.createElement("tr");
        var date = document.createElement("td");
        var time = document.createElement("td");
        var loc = document.createElement("td");
        var team1 = document.createElement("td");
        var team2 = document.createElement("td");
        var games = document.createElement("td");

        text_to(date, data[i]["date"]);
        text_to(time, data[i]["time"]);
        text_to(loc, data[i]["location"]);
        text_to(team1, data[i]["home"]);
        text_to(team2, data[i]["away"]);

        if (data[i]["state"] == "Done") { 
            text_to(games, data[i]["home_points"] + " - " + data[i]["away_points"]);
        }
        else {text_to(games, "   -   ")}
        row.appendChild(date)
        row.appendChild(time)
        row.appendChild(loc)
        row.appendChild(team1)
        row.appendChild(games)
        row.appendChild(team2)
        const scoreboard = document.getElementById("scoreboard");
        scoreboard.appendChild(row)
    }

}

createTable()

</script>

</html>